@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}


        <div class="row">
            <div class="col-12">
                <h2>Problem #1:</h2>
                <div>
                    Create a webpage that has the following features:
                    <ul>
                        <li>A textbox</li>
                        <li>A text/label that updates to show the contents of the textbox.</li>
                        <li>If there are more than 20 characters in the textbox, the border color of the textbox should change to red.</li>
                        <li>A button labeled ’Click Me’</li>
                        <li>Text/label that tracks the number of times the button was clicked.</li>
                    </ul>
                    Constraints:
                    <ul>
                        <li>Must use ECMAScript 6 (ES6) module containing a class. (compatible browsers: https://caniuse.com/#feat=es6-module)</li>
                        <li>May NOT use any inline JavaScript.</li>
                        <li>May NOT use jQuery.</li>
                        <li>May use a full Visual Studio solution, or simply an index.html and javascript file, or using codepen, etc.</li>
                        <li>Bonus points for creative styling.</li>
                    </ul>
                    Tip: ES6 Modules can’t be loaded from the filesystem, so you have to have the files served by a web server to test.
                </div>
                <hr />
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label for="TestText">Type Some Text into the following box.</label>
                    <input id="TestTextInput" class="form-control" />
                    <span id="TestTextSpan"></span>
                </div>
                <div class="form-group">
                    <button id="CounterBtn" class="btn btn-primary">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-mouse3" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.473.463C5.896.157 6.407 0 7 0c1.26 0 2.981.123 4.403.825.72.355 1.375.864 1.85 1.59.475.728.747 1.642.747 2.772v5.625C14 13.659 11.78 16 9 16H7c-2.78 0-5-2.342-5-5.188V8.236A2.5 2.5 0 0 1 3.382 6L4 5.691v-.503c0-1.31.124-2.569.543-3.517.213-.482.512-.906.93-1.208zM4.017 6.801l-.188.093A1.5 1.5 0 0 0 3 8.236v2.576C3 13.146 4.81 15 7 15h2c2.19 0 4-1.855 4-4.188V5.189c0-.964-.23-1.683-.585-2.226-.356-.546-.86-.947-1.454-1.24C9.754 1.127 8.226 1 7 1c-.407 0-.708.105-.941.274-.239.172-.44.435-.602.801C5.127 2.823 5 3.907 5 5.187v.844a16.734 16.734 0 0 0 .008.448c.007.3.023.715.053 1.175.063.937.186 2.005.413 2.688a.5.5 0 1 1-.948.316c-.273-.817-.4-2-.462-2.937a27.75 27.75 0 0 1-.047-.92z" />
                            <path fill-rule="evenodd" d="M9 .5a.5.5 0 0 1 .5.5v5.099l4.108.913a.5.5 0 0 1-.216.976l-9-2a.5.5 0 1 1 .216-.976l3.892.865V1A.5.5 0 0 1 9 .5z" />
                        </svg>
                        Click Me
                    </button>
                    <div id="CounterSpan"></div>
                </div>
            </div>
        </div>

@section Scripts{ 
    <script type="module">
        "use strict";

        class MayVueTest {
            constructor(testTextInput, counterBtn, testTextSpan, counterSpan) {
                //Define UI Elements
                this.TestTextInput = testTextInput;
                this.CounterBtn = counterBtn;
                this.TestTextSpan = testTextSpan;
                this.CounterSpan = counterSpan;
                
                this.TestTextInput.addEventListener("keyup", this.UpdateText);
                this.CounterBtn.addEventListener("click", this.UpdateCounter);
            }

            async UpdateText() {
                var text = TestTextInput.value
                TestTextSpan.innerHTML = text;
                if (text.length > 20) {
                    TestTextInput.classList.add("red-border");
                }
            }

            async UpdateCounter() {
                if (!this.ClickCount) {
                    this.ClickCount = 1;
                } else {
                    this.ClickCount += 1;
                }
                var displayMessage = `The button has been clicked ${this.ClickCount} time${this.ClickCount == 1 ? "" : "s"}.`;
                CounterSpan.innerHTML = displayMessage;
                
            }
            
        }

        (function () {
            var test = new MayVueTest(
                document.getElementById("TestTextInput"),
                document.getElementById("CounterBtn"),
                document.getElementById("TestTextSpan"),
                document.getElementById("CounterSpan")
            );
            
        })();
    </script>
}